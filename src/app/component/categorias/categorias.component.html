<div class="d-flex">
  <!-- Sidebar -->
  <app-sidebar></app-sidebar>

  <!-- Contenido principal -->
  <div class="container mt-5">
    <!-- Encabezado visual como en "Registro de Productos" -->
    <div class="card shadow-lg">
      <div class="card-header bg-dark text-white text-center">
        <h2 class="mb-0">Registro de Categorías</h2>
      </div>

      <div class="card-body">
        <!-- Formulario -->
        <form [formGroup]="categoriaForm" (ngSubmit)="registrarCategoria()">
          <div class="row mb-3">
            <div class="col">
              <label class="form-label">Nombre Categoría</label>
              <input type="text" class="form-control" formControlName="nomCategoria">
            </div>
            <div class="col">
              <label class="form-label">Descripción</label>
              <input type="text" class="form-control" formControlName="descripcion">
            </div>
            <div class="col">
              <label class="form-label">Estado</label>
              <select class="form-control" formControlName="estado">
                <option [value]="true">ACTIVO</option>
                <option [value]="false">INACTIVO</option>
              </select>
            </div>
          </div>
          <div class="text-end">
            <button class="btn btn-primary me-2" type="submit">
              {{ editando ? 'Actualizar' : 'Registrar' }}
            </button>
            <button *ngIf="editando" class="btn btn-secondary" type="button" (click)="cancelarEdicion()">Cancelar</button>
          </div>
        </form>
      </div>
    </div>

    <hr>

    <!-- Tabla de Categorías -->
  <!-- Tabla de Categorías (sin DataTables) -->
<div class="card shadow-sm mt-3">
  <div class="card-body">
    <table class="table table-bordered table-hover table-striped">
      <thead class="table-dark text-center">
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Descripción</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let cat of categorias">
          <td>{{ cat.idCategoria }}</td>
          <td>{{ cat.nomCategoria }}</td>
          <td>{{ cat.descripcion }}</td>
          <td>{{ cat.estado ? 'ACTIVO' : 'INACTIVO' }}</td>
          <td class="text-center">
            <button class="btn btn-sm btn-warning me-2" (click)="editarCategoria(cat)">✏️ Editar</button>
          </td>
        </tr>
        <tr *ngIf="categorias && categorias.length === 0">
          <td colspan="5" class="text-center">No hay categorías registradas.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>


  </div>
</div>
